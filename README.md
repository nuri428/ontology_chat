# Ontology Chat

> ë‰´ìŠ¤ ê¸°ë°˜ ì˜¨í†¨ë¡œì§€ ë° ì£¼ì‹ ë°ì´í„°ë¥¼ í™œìš©í•œ **ì»¨í…ìŠ¤íŠ¸ ì—”ì§€ë‹ˆì–´ë§ ê¸°ë°˜ ì§ˆì˜ì‘ë‹µ ì±—ë´‡**

[![Python](https://img.shields.io/badge/Python-3.12+-blue.svg)](https://python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.116+-green.svg)](https://fastapi.tiangolo.com)
[![Streamlit](https://img.shields.io/badge/Streamlit-1.49+-red.svg)](https://streamlit.io)
[![Neo4j](https://img.shields.io/badge/Neo4j-5.15+-orange.svg)](https://neo4j.com)
[![OpenSearch](https://img.shields.io/badge/OpenSearch-2.11+-yellow.svg)](https://opensearch.org)
[![Docker](https://img.shields.io/badge/Docker-Compose-blue.svg)](https://docker.com)

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**Ontology Chat**ì€ ë‰´ìŠ¤ ë°ì´í„°, ì£¼ì‹ ì •ë³´, ê·¸ë¦¬ê³  ì˜¨í†¨ë¡œì§€ ê·¸ë˜í”„ë¥¼ ê²°í•©í•˜ì—¬ ì§€ëŠ¥ì ì¸ ì§ˆì˜ì‘ë‹µì„ ì œê³µí•˜ëŠ” AI ì±—ë´‡ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. FastAPI ê¸°ë°˜ì˜ RESTful APIì™€ Streamlit ê¸°ë°˜ì˜ ì›¹ UIë¥¼ ì œê³µí•˜ë©°, ì‹¤ì‹œê°„ ë°ì´í„° ë¶„ì„ê³¼ ì „ë§ ë¦¬í¬íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ğŸš€ í˜„ì¬ ìƒíƒœ (2025.09.16)

- âœ… **API ì„œë²„**: ì •ìƒ ì‘ë™ ì¤‘ (í¬íŠ¸ 8000)
- âœ… **ì›¹ UI**: ì •ìƒ ì‘ë™ ì¤‘ (í¬íŠ¸ 8501)  
- âœ… **ë°ì´í„°ë² ì´ìŠ¤**: Neo4j, OpenSearch ì—°ê²° ì •ìƒ
- âœ… **í•µì‹¬ ê¸°ëŠ¥**: ë‰´ìŠ¤ ê²€ìƒ‰, ê·¸ë˜í”„ ê²€ìƒ‰, ë‹µë³€ ìƒì„± ì™„ë£Œ
- âœ… **Docker í™˜ê²½**: ê°œë°œ/ìš´ì˜ í™˜ê²½ êµ¬ì¶• ì™„ë£Œ

### ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

- **ğŸ” ì§€ëŠ¥í˜• ê²€ìƒ‰**: Neo4j ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤ì™€ OpenSearch ë²¡í„° ê²€ìƒ‰ì„ í†µí•œ ë‹¤ì°¨ì› ê²€ìƒ‰
- **ğŸ“Š ì‹¤ì‹œê°„ ë¶„ì„**: ì£¼ì‹ ë°ì´í„°ì™€ ë‰´ìŠ¤ ì •ë³´ë¥¼ ê²°í•©í•œ ì‹¤ì‹œê°„ ë¶„ì„
- **ğŸ“ˆ ì „ë§ ë¦¬í¬íŠ¸**: AI ê¸°ë°˜ ì¢…í•© ë¶„ì„ ë¦¬í¬íŠ¸ ìë™ ìƒì„±
- **ğŸ¨ ì¸í„°ë™í‹°ë¸Œ ì‹œê°í™”**: pyvisë¥¼ í™œìš©í•œ ê·¸ë˜í”„ ë„¤íŠ¸ì›Œí¬ ì‹œê°í™”
- **ğŸ³ ì»¨í…Œì´ë„ˆí™”**: Docker Composeë¥¼ í†µí•œ ì‰¬ìš´ ë°°í¬ ë° ê´€ë¦¬
- **ğŸ”§ MCP ì–´ëŒ‘í„°**: Model Context Protocol ê¸°ë°˜ ëª¨ë“ˆí™”ëœ ë°ì´í„° ì†ŒìŠ¤ ì—°ê²°
- **âš¡ ê³ ì„±ëŠ¥**: ë¹„ë™ê¸° ì²˜ë¦¬ ë° ìºì‹±ì„ í†µí•œ ë¹ ë¥¸ ì‘ë‹µ
- **ğŸ›¡ï¸ ì˜¤ë¥˜ ì²˜ë¦¬**: ê°•ë ¥í•œ ì˜¤ë¥˜ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Streamlit UI  â”‚    â”‚   FastAPI API   â”‚    â”‚   MCP Adapters  â”‚
â”‚   (Port: 8501)  â”‚â—„â”€â”€â–ºâ”‚   (Port: 8000)  â”‚â—„â”€â”€â–ºâ”‚                 â”‚
â”‚  - ì§ˆì˜ ì…ë ¥     â”‚    â”‚  - RESTful API  â”‚    â”‚  - Neo4j MCP    â”‚
â”‚  - pyvis ê·¸ë˜í”„  â”‚    â”‚  - ì˜¤ë¥˜ ì²˜ë¦¬    â”‚    â”‚  - OpenSearch   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  - Stock API    â”‚
         â”‚                       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Neo4j DB      â”‚    â”‚   OpenSearch    â”‚    â”‚   Stock API     â”‚
â”‚   (Port: 7687)  â”‚    â”‚   (Port: 9200)  â”‚    â”‚   (External)    â”‚
â”‚  - 60ë§Œ+ ë‰´ìŠ¤   â”‚    â”‚  - 30ë§Œ+ ë¬¸ì„œ   â”‚    â”‚  - yfinance     â”‚
â”‚  - ê·¸ë˜í”„ ê´€ê³„  â”‚    â”‚  - ë²¡í„° ê²€ìƒ‰    â”‚    â”‚  - ì‹¤ì‹œê°„ ì£¼ê°€  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ontology_chat/
â”œâ”€â”€ api/                          # FastAPI ë°±ì—”ë“œ (31ê°œ Python íŒŒì¼)
â”‚   â”œâ”€â”€ adapters/                 # MCP ì–´ëŒ‘í„°ë“¤
â”‚   â”‚   â”œâ”€â”€ mcp_neo4j.py         # Neo4j ì—°ê²°
â”‚   â”‚   â”œâ”€â”€ mcp_opensearch.py    # OpenSearch ì—°ê²°
â”‚   â”‚   â””â”€â”€ mcp_stock.py         # ì£¼ì‹ API ì—°ê²°
â”‚   â”œâ”€â”€ config/                   # ì„¤ì • ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ __init__.py          # í™˜ê²½ ë³€ìˆ˜ ë¡œë”©
â”‚   â”‚   â””â”€â”€ keyword_mappings.py  # í‚¤ì›Œë“œ ë§¤í•‘
â”‚   â”œâ”€â”€ services/                 # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ chat_service.py      # ì±„íŒ… ì„œë¹„ìŠ¤ (í•µì‹¬)
â”‚   â”‚   â”œâ”€â”€ error_handler.py     # ì˜¤ë¥˜ ì²˜ë¦¬
â”‚   â”‚   â””â”€â”€ cache_manager.py     # ìºì‹œ ê´€ë¦¬
â”‚   â”œâ”€â”€ mcp/                      # MCP ë„êµ¬ë“¤
â”‚   â”‚   â”œâ”€â”€ tools.py             # ê²€ìƒ‰ ë„êµ¬ë“¤
â”‚   â”‚   â””â”€â”€ router.py            # MCP ë¼ìš°í„°
â”‚   â””â”€â”€ main.py                   # FastAPI ì•±
â”œâ”€â”€ ui/                          # Streamlit í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â””â”€â”€ main.py                  # ì›¹ UI
â”œâ”€â”€ docker-compose.dev.yml       # ê°œë°œ í™˜ê²½
â”œâ”€â”€ docker-compose.prod.yml      # ìš´ì˜ í™˜ê²½
â””â”€â”€ Makefile                     # ìë™í™” ìŠ¤í¬ë¦½íŠ¸
```

## ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ

### 1. ê¸°ë³¸ ì§ˆì˜
```bash
curl -X POST "http://localhost:8000/chat" \
  -H "Content-Type: application/json" \
  -d '{"query": "í•œí™” ê´€ë ¨ ìµœê·¼ ë‰´ìŠ¤ëŠ”?"}'
```

### 2. ë³µì¡í•œ ë¶„ì„ ì§ˆì˜
```bash
curl -X POST "http://localhost:8000/chat" \
  -H "Content-Type: application/json" \
  -d '{"query": "ìµœê·¼ ì§€ìƒë¬´ê¸° ê´€ë ¨ ìˆ˜ì¶œ ê¸°ì‚¬ë¡œ ìœ ë§í•œ ì¢…ëª©ì€?"}'
```

### 3. ê·¸ë˜í”„ ê²€ìƒ‰
```bash
curl -X POST "http://localhost:8000/mcp/query_graph_default" \
  -H "Content-Type: application/json" \
  -d '{"q": "í•œí™”", "limit": 10}'
```

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤

#### 1. Docker ì»¨í…Œì´ë„ˆ ì‹œì‘ ì‹¤íŒ¨
```bash
# ë¡œê·¸ í™•ì¸
docker logs ontology-chat-api-dev
docker logs ontology-chat-ui-dev

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
make docker-dev-down
make docker-dev-up
```

#### 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜
```bash
# í—¬ìŠ¤ ì²´í¬
curl http://localhost:8000/health/ready

# Neo4j ì—°ê²° í™•ì¸
curl http://localhost:7474

# OpenSearch ì—°ê²° í™•ì¸
curl http://localhost:9200/_cluster/health
```

#### 3. ì˜ì¡´ì„± ì˜¤ë¥˜
```bash
# ê°€ìƒí™˜ê²½ ì¬ìƒì„±
rm -rf venv
python -m venv venv
source venv/bin/activate
uv sync
```

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“ ì—°ë½ì²˜

- **í”„ë¡œì íŠ¸ ê´€ë¦¬ì**: [Your Name]
- **ì´ë©”ì¼**: [your.email@example.com]
- **í”„ë¡œì íŠ¸ ë§í¬**: [https://github.com/yourusername/ontology_chat](https://github.com/yourusername/ontology_chat)

## ğŸ™ ê°ì‚¬ì˜ ë§

- [FastAPI](https://fastapi.tiangolo.com/) - ê³ ì„±ëŠ¥ ì›¹ í”„ë ˆì„ì›Œí¬
- [Streamlit](https://streamlit.io/) - ë¹ ë¥¸ ì›¹ UI ê°œë°œ
- [Neo4j](https://neo4j.com/) - ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤
- [OpenSearch](https://opensearch.org/) - ë²¡í„° ê²€ìƒ‰ ì—”ì§„
- [pyvis](https://pyvis.readthedocs.io/) - ë„¤íŠ¸ì›Œí¬ ì‹œê°í™”

---

**â­ ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ Starë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!**

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Docker & Docker Compose**: ìµœì‹  ë²„ì „
- **ì™¸ë¶€ ì„œë¹„ìŠ¤**: Neo4j, OpenSearch (ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•¨)
- **API í‚¤**: OpenAI API í‚¤ (ì„ íƒì‚¬í•­)

### 2. í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd ontology_chat

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì—ì„œ í•„ìš”í•œ ê°’ë“¤ì„ ì„¤ì •
```

### 3. ê°œë°œ í™˜ê²½ ì‹¤í–‰

```bash
# Docker Composeë¡œ ì „ì²´ ìŠ¤íƒ ì‹¤í–‰
make docker-dev-up

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
docker-compose -f docker-compose.dev.yml up -d
```

### 4. ì„œë¹„ìŠ¤ ì ‘ê·¼

- **UI**: http://localhost:8501
- **API**: http://localhost:8000
- **API ë¬¸ì„œ**: http://localhost:8000/docs
- **í—¬ìŠ¤ì²´í¬**: http://localhost:8000/health/live

## ğŸ“š API ë¬¸ì„œ

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

#### 1. ì±„íŒ… API
```http
POST /chat
Content-Type: application/json

{
  "query": "ìµœê·¼ ì§€ìƒë¬´ê¸° ê´€ë ¨ ìˆ˜ì¶œ ê¸°ì‚¬ë¡œ ìœ ë§í•œ ì¢…ëª©ì€?"
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "query": "ìµœê·¼ ì§€ìƒë¬´ê¸° ê´€ë ¨ ìˆ˜ì¶œ ê¸°ì‚¬ë¡œ ìœ ë§í•œ ì¢…ëª©ì€?",
  "answer": "## ğŸ” ì§ˆì˜ ë¶„ì„\n**ì›ë³¸ ì§ˆì˜**: ìµœê·¼ ì§€ìƒë¬´ê¸° ê´€ë ¨ ìˆ˜ì¶œ ê¸°ì‚¬ë¡œ ìœ ë§í•œ ì¢…ëª©ì€?\n...",
  "sources": [...],
  "graph_samples": [...],
  "meta": {
    "total_latency_ms": 1250.5,
    "services_attempted": ["opensearch", "neo4j", "stock_api"]
  }
}
```

#### 2. MCP ë„êµ¬ API
```http
# ë‰´ìŠ¤ ê²€ìƒ‰
POST /mcp/call
{
  "tool": "search_news",
  "args": {"query": "í•œí™”", "limit": 5}
}

# ê·¸ë˜í”„ ê²€ìƒ‰
POST /mcp/query_graph_default
{
  "q": "í•œí™”",
  "limit": 10
}
```

#### 3. í—¬ìŠ¤ ì²´í¬
```http
GET /health/live    # ê¸°ë³¸ ìƒíƒœ í™•ì¸
GET /health/ready   # ì„œë¹„ìŠ¤ ì¤€ë¹„ ìƒíƒœ í™•ì¸
```

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

## ğŸ“Š êµ¬í˜„ ìƒíƒœ ë° ì„±ëŠ¥

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥ (2025.09.16)

| ê¸°ëŠ¥ | ìƒíƒœ | ì„±ëŠ¥ |
|------|------|------|
| **API ì„œë²„** | âœ… ì™„ë£Œ | ì‘ë‹µì‹œê°„ < 1.5ì´ˆ |
| **ì›¹ UI** | âœ… ì™„ë£Œ | ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ |
| **ë‰´ìŠ¤ ê²€ìƒ‰** | âœ… ì™„ë£Œ | 3ms, 60ë§Œ+ ë¬¸ì„œ |
| **ê·¸ë˜í”„ ê²€ìƒ‰** | âœ… ì™„ë£Œ | 5ms, ê´€ê³„ í¬í•¨ |
| **ë‹µë³€ ìƒì„±** | âœ… ì™„ë£Œ | êµ¬ì¡°í™”ëœ ì‘ë‹µ |
| **ì‹œê°í™”** | âœ… ì™„ë£Œ | pyvis ì¸í„°ë™í‹°ë¸Œ |
| **Docker í™˜ê²½** | âœ… ì™„ë£Œ | ê°œë°œ/ìš´ì˜ ë¶„ë¦¬ |
| **ì˜¤ë¥˜ ì²˜ë¦¬** | âœ… ì™„ë£Œ | ê°•ë ¥í•œ ì¬ì‹œë„ |

### â³ ì§„í–‰ ì¤‘ì¸ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì§„í–‰ë¥  | ì˜ˆìƒ ì™„ë£Œ |
|------|--------|-----------|
| **LangGraph íŒŒì´í”„ë¼ì¸** | 10% | TBD |
| **CLI ì¸í„°í˜ì´ìŠ¤** | 30% | 1ì£¼ |
| **í…ŒìŠ¤íŠ¸ í™˜ê²½** | 0% | 2ì£¼ |
| **ë¬¸ì„œí™”** | 80% | ì™„ë£Œ |

### Backend
- **Python 3.12+**: ë©”ì¸ ê°œë°œ ì–¸ì–´
- **FastAPI**: ê³ ì„±ëŠ¥ ì›¹ API í”„ë ˆì„ì›Œí¬
- **Pydantic**: ë°ì´í„° ê²€ì¦ ë° ì„¤ì • ê´€ë¦¬
- **Loguru**: ê³ ê¸‰ ë¡œê¹… ì‹œìŠ¤í…œ
- **anyio**: ë¹„ë™ê¸° ì²˜ë¦¬

### Frontend
- **Streamlit**: ë¹ ë¥¸ ì›¹ UI ê°œë°œ
- **pyvis**: ì¸í„°ë™í‹°ë¸Œ ë„¤íŠ¸ì›Œí¬ ì‹œê°í™”
- **Pandas**: ë°ì´í„° ì²˜ë¦¬ ë° ë¶„ì„

### ë°ì´í„°ë² ì´ìŠ¤
- **Neo4j**: ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤ (60ë§Œ+ ë‰´ìŠ¤)
- **OpenSearch**: ë²¡í„° ê²€ìƒ‰ (30ë§Œ+ ë¬¸ì„œ)

### ì¸í”„ë¼
- **Docker**: ì»¨í…Œì´ë„ˆí™”
- **Docker Compose**: ë©€í‹° ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- **uv**: ë¹ ë¥¸ Python íŒ¨í‚¤ì§€ ê´€ë¦¬

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ontology_chat/
â”œâ”€â”€ api/                          # FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ adapters/                 # MCP ì–´ëŒ‘í„°ë“¤
â”‚   â”‚   â”œâ”€â”€ mcp_neo4j.py         # Neo4j ì—°ê²°
â”‚   â”‚   â”œâ”€â”€ mcp_opensearch.py    # OpenSearch ì—°ê²°
â”‚   â”‚   â””â”€â”€ mcp_stock.py         # ì£¼ì‹ API ì—°ê²°
â”‚   â”œâ”€â”€ config/                   # ì„¤ì • íŒŒì¼ë“¤
â”‚   â”‚   â””â”€â”€ graph_search.cypher  # ê¸°ë³¸ ê·¸ë˜í”„ ê²€ìƒ‰ ì¿¼ë¦¬
â”‚   â”œâ”€â”€ graph/                    # LangGraph íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â””â”€â”€ pipeline.py
â”‚   â”œâ”€â”€ mcp/                      # MCP ë¼ìš°í„° ë° ë„êµ¬ë“¤
â”‚   â”œâ”€â”€ routers/                  # API ë¼ìš°í„°ë“¤
â”‚   â”‚   â””â”€â”€ health.py            # í—¬ìŠ¤ì²´í¬
â”‚   â”œâ”€â”€ services/                 # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ chat_service.py      # ì±„íŒ… ì„œë¹„ìŠ¤
â”‚   â”‚   â””â”€â”€ report_service.py    # ë¦¬í¬íŠ¸ ìƒì„±
â”‚   â”œâ”€â”€ config.py                # í™˜ê²½ ì„¤ì •
â”‚   â”œâ”€â”€ logging.py               # ë¡œê¹… ì„¤ì •
â”‚   â””â”€â”€ main.py                  # FastAPI ì•±
â”œâ”€â”€ ui/                          # Streamlit í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â””â”€â”€ main.py                  # ë©”ì¸ UI
â”œâ”€â”€ monitoring/                  # ëª¨ë‹ˆí„°ë§ ì„¤ì •
â”‚   â”œâ”€â”€ prometheus.yml
â”‚   â””â”€â”€ grafana/
â”œâ”€â”€ nginx/                       # Nginx ì„¤ì • (ìš´ì˜ìš©)
â”‚   â””â”€â”€ nginx.conf
â”œâ”€â”€ scripts/                     # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ deploy.sh
â”œâ”€â”€ docker-compose.yml           # ê¸°ë³¸ Docker Compose
â”œâ”€â”€ docker-compose.dev.yml       # ê°œë°œìš© Docker Compose
â”œâ”€â”€ docker-compose.prod.yml      # ìš´ì˜ìš© Docker Compose
â”œâ”€â”€ Dockerfile.api               # API ì»¨í…Œì´ë„ˆ
â”œâ”€â”€ Dockerfile.ui                # UI ì»¨í…Œì´ë„ˆ
â”œâ”€â”€ Dockerfile.api.prod          # API ìš´ì˜ ì»¨í…Œì´ë„ˆ
â”œâ”€â”€ Dockerfile.ui.prod           # UI ìš´ì˜ ì»¨í…Œì´ë„ˆ
â”œâ”€â”€ Makefile                     # í¸ì˜ ëª…ë ¹ì–´ë“¤
â”œâ”€â”€ pyproject.toml               # Python í”„ë¡œì íŠ¸ ì„¤ì •
â””â”€â”€ README.md                    # ì´ íŒŒì¼
```

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜

### í•„ìˆ˜ ì„¤ì •

```bash
# OpenAI API (ì„ íƒì‚¬í•­)
OPENAI_API_KEY=your_openai_api_key_here

# Neo4j ì—°ê²° ì •ë³´
NEO4J_URI=neo4j://192.168.0.10:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_password
NEO4J_DATABASE=news-def-topology

# OpenSearch ì—°ê²° ì •ë³´
OPENSEARCH_HOST=http://192.168.0.10:9200
OPENSEARCH_USER=admin
OPENSEARCH_PASSWORD=your_password
```

### ì„ íƒì  ì„¤ì •

```bash
# API ì„œë²„ ì„¤ì •
APP_HOST=0.0.0.0
APP_PORT=8000

# ê²€ìƒ‰ ì„¤ì •
NEO4J_SEARCH_LOOKBACK_DAYS=180
NEO4J_SEARCH_DEFAULT_DOMAIN=
NEO4J_SEARCH_CYPHER_FILE=api/config/graph_search.cypher

# ê·¸ë˜í”„ ê²€ìƒ‰ í‚¤ ë§¤í•‘ (JSON)
GRAPH_SEARCH_KEYS='{"Company": ["name","ticker"], "Event": ["title","event_type"]}'
```

## ğŸ® ì‚¬ìš© ë°©ë²•

### 1. ê·¸ë˜í”„ ì»¨í…ìŠ¤íŠ¸ ì¡°íšŒ

1. **UI ì ‘ì†**: http://localhost:8501
2. **"ğŸ”— ê·¸ë˜í”„ ì»¨í…ìŠ¤íŠ¸"** íƒ­ ì„ íƒ
3. **ê²€ìƒ‰ì–´ ì…ë ¥**: ì˜ˆ) "í•œí™” ì§€ìƒë¬´ê¸° ìˆ˜ì£¼"
4. **ì˜µì…˜ ì„¤ì •**: ì œí•œ ê°œìˆ˜, ê¸°ê°„ ë“±
5. **"ê´€ê³„(ì—ì§€) í¬í•¨"** ì²´í¬ë°•ìŠ¤ë¡œ ê´€ê³„ ì‹œê°í™” ì„ íƒ
6. **"ê·¸ë˜í”„ ì§ˆì˜ ì‹¤í–‰"** í´ë¦­

### 2. ì±„íŒ… ê¸°ëŠ¥

1. **"ğŸ’¬ Chat"** íƒ­ ì„ íƒ
2. **ì§ˆë¬¸ ì…ë ¥**: ìì—°ì–´ë¡œ ì§ˆë¬¸
3. **AI ë‹µë³€ í™•ì¸**: ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ë‹µë³€

### 3. ë¦¬í¬íŠ¸ ìƒì„±

1. **"ğŸ“‘ ë¦¬í¬íŠ¸"** íƒ­ ì„ íƒ
2. **ë¦¬í¬íŠ¸ ì˜µì…˜ ì„¤ì •**: ë„ë©”ì¸, ê¸°ê°„, ë‰´ìŠ¤ í¬ê¸° ë“±
3. **"ë¦¬í¬íŠ¸ ìƒì„±"** í´ë¦­
4. **ë§ˆí¬ë‹¤ìš´ ë¦¬í¬íŠ¸ í™•ì¸**

## ğŸ³ Docker ëª…ë ¹ì–´

### ê°œë°œ í™˜ê²½

```bash
# ê°œë°œ í™˜ê²½ ì‹¤í–‰
make docker-dev-up

# ê°œë°œ í™˜ê²½ ì¤‘ì§€
make docker-dev-down

# ë¡œê·¸ í™•ì¸
make docker-dev-logs

# ìƒíƒœ í™•ì¸
docker-compose -f docker-compose.dev.yml ps
```

### ìš´ì˜ í™˜ê²½

```bash
# ìš´ì˜ í™˜ê²½ ë°°í¬
make docker-prod-deploy

# ìš´ì˜ í™˜ê²½ ì¤‘ì§€
make docker-prod-stop

# ìš´ì˜ í™˜ê²½ ì¬ì‹œì‘
make docker-prod-restart

# ìš´ì˜ í™˜ê²½ ë¡œê·¸
make docker-prod-logs
```

### ê¸°íƒ€ ëª…ë ¹ì–´

```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
make docker-build

# ì»¨í…Œì´ë„ˆ ì •ë¦¬
make docker-prod-clean

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
make test

# ì½”ë“œ í¬ë§·íŒ…
make fmt

# íƒ€ì… ì²´í¬
make typecheck
```

## ğŸ” API ì—”ë“œí¬ì¸íŠ¸

### í—¬ìŠ¤ì²´í¬
- `GET /health/live` - ì„œë¹„ìŠ¤ ìƒì¡´ í™•ì¸
- `GET /health/ready` - ì„œë¹„ìŠ¤ ì¤€ë¹„ ìƒíƒœ í™•ì¸

### ê·¸ë˜í”„ ê²€ìƒ‰
- `POST /mcp/query_graph_default` - ê¸°ë³¸ ê·¸ë˜í”„ ê²€ìƒ‰
- `POST /mcp/call` - MCP ë„êµ¬ í˜¸ì¶œ

### ì±„íŒ…
- `POST /chat` - ì±„íŒ… ë©”ì‹œì§€ ì²˜ë¦¬

### ë¦¬í¬íŠ¸
- `POST /report` - ë¦¬í¬íŠ¸ ìƒì„±

### MCP ë„êµ¬
- `GET /mcp/describe` - ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ ëª©ë¡
- `POST /mcp/call` - íŠ¹ì • ë„êµ¬ ì‹¤í–‰

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ê°œë°œ í™˜ê²½
- **API ë¡œê·¸**: `docker logs ontology-chat-api-dev`
- **UI ë¡œê·¸**: `docker logs ontology-chat-ui-dev`

### ìš´ì˜ í™˜ê²½
- **Grafana**: http://localhost:3000
- **Prometheus**: http://localhost:9090
- **Nginx**: ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë° ë¡œë“œ ë°¸ëŸ°ì‹±

## ğŸ§ª í…ŒìŠ¤íŠ¸

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
make test

# íŠ¹ì • í…ŒìŠ¤íŠ¸ ì‹¤í–‰
uv run pytest tests/test_health.py -v

# ì»¤ë²„ë¦¬ì§€ í¬í•¨ í…ŒìŠ¤íŠ¸
uv run pytest --cov=api tests/
```

## ğŸš€ ë°°í¬

### ê°œë°œ í™˜ê²½ ë°°í¬
```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ ìˆ˜ì •

# ê°œë°œ í™˜ê²½ ì‹¤í–‰
make docker-dev-up
```

### ìš´ì˜ í™˜ê²½ ë°°í¬
```bash
# ìš´ì˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.prod.example .env.prod
# .env.prod íŒŒì¼ ìˆ˜ì •

# ìë™ ë°°í¬
make docker-prod-deploy
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

1. **í¬íŠ¸ ì¶©ëŒ**
   ```bash
   # ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
   netstat -tulpn | grep :8000
   netstat -tulpn | grep :8501
   ```

2. **í™˜ê²½ë³€ìˆ˜ ë¬¸ì œ**
   ```bash
   # ì»¨í…Œì´ë„ˆ ë‚´ë¶€ í™˜ê²½ë³€ìˆ˜ í™•ì¸
   docker exec ontology-chat-api-dev env | grep NEO4J
   ```

3. **ì˜ì¡´ì„± ë¬¸ì œ**
   ```bash
   # ì˜ì¡´ì„± ì¬ì„¤ì¹˜
   uv sync --reinstall
   ```

4. **Docker ì´ë¯¸ì§€ ë¬¸ì œ**
   ```bash
   # ì´ë¯¸ì§€ ì¬ë¹Œë“œ
   make docker-build --no-cache
   ```

### ë¡œê·¸ í™•ì¸

```bash
# API ì„œë²„ ë¡œê·¸
docker logs ontology-chat-api-dev -f

# UI ì„œë²„ ë¡œê·¸
docker logs ontology-chat-ui-dev -f

# ì „ì²´ ë¡œê·¸
make docker-dev-logs
```

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“ ì§€ì›

- **ì´ìŠˆ ë¦¬í¬íŠ¸**: [GitHub Issues](https://github.com/your-repo/issues)
- **ë¬¸ì„œ**: [Wiki](https://github.com/your-repo/wiki)
- **ì´ë©”ì¼**: your-email@example.com

## ğŸ™ ê°ì‚¬ì˜ ë§

- [FastAPI](https://fastapi.tiangolo.com/) - ê³ ì„±ëŠ¥ ì›¹ í”„ë ˆì„ì›Œí¬
- [Streamlit](https://streamlit.io/) - ë¹ ë¥¸ ì›¹ ì•± ê°œë°œ
- [Neo4j](https://neo4j.com/) - ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤
- [OpenSearch](https://opensearch.org/) - ê²€ìƒ‰ ë° ë¶„ì„ ì—”ì§„
- [LangChain](https://langchain.com/) - LLM ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬

---

**Ontology Chat** - ì§€ëŠ¥í˜• ë°ì´í„° ë¶„ì„ì˜ ìƒˆë¡œìš´ ì°¨ì›ì„ ê²½í—˜í•˜ì„¸ìš”! ğŸš€
